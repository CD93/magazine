!function(e){"use strict";e.fn.extend({customSelect:function(t){if("undefined"==typeof document.body.style.maxHeight)return this;var s={customClass:"customSelect",mapClass:!0,mapStyle:!0},t=e.extend(s,t),n=t.customClass,o=function(t,s){var n=t.find(":selected"),o=s.children(":first"),c=n.html()||"&nbsp;";o.html(c),n.attr("disabled")?s.addClass(a("DisabledOption")):s.removeClass(a("DisabledOption")),setTimeout(function(){s.removeClass(a("Open")),e(document).off("mouseup.customSelect")},60)},a=function(e){return n+e};return this.each(function(){var s=e(this),c=e("<span />").addClass(a("Inner")),u=e("<span />");s.after(u.append(c)),u.addClass(n),t.mapClass&&u.addClass(s.attr("class")),t.mapStyle&&u.attr("style",s.attr("style")),s.addClass("hasCustomSelect").on("render.customSelect",function(){o(s,u),s.css("width",""),parseInt(s.outerWidth(),10)-(parseInt(u.outerWidth(),10)-parseInt(u.width(),10)),u.css({}),u.outerHeight(),s.attr("disabled")?u.addClass(a("Disabled")):u.removeClass(a("Disabled")),c.css({}),s.css({"-webkit-appearance":"menulist-button",position:"absolute",opacity:0})}).on("change.customSelect",function(){u.addClass(a("Changed")),o(s,u)}).on("keyup.customSelect",function(e){u.hasClass(a("Open"))?(13==e.which||27==e.which)&&o(s,u):(s.trigger("blur.customSelect"),s.trigger("focus.customSelect"))}).on("mousedown.customSelect",function(){u.removeClass(a("Changed"))}).on("mouseup.customSelect",function(t){u.hasClass(a("Open"))||(e("."+a("Open")).not(u).length>0&&"undefined"!=typeof InstallTrigger?s.trigger("focus.customSelect"):(u.addClass(a("Open")),t.stopPropagation(),e(document).one("mouseup.customSelect",function(t){t.target!=s.get(0)&&e.inArray(t.target,s.find("*").get())<0?s.trigger("blur.customSelect"):o(s,u)})))}).on("focus.customSelect",function(){u.removeClass(a("Changed")).addClass(a("Focus"))}).on("blur.customSelect",function(){u.removeClass(a("Focus")+" "+a("Open"))}).on("mouseenter.customSelect",function(){u.addClass(a("Hover"))}).on("mouseleave.customSelect",function(){u.removeClass(a("Hover"))}).trigger("render.customSelect")})}})}(jQuery);